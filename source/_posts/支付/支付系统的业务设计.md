---
title: 支付系统的业务设计
date: 2017-10-19 14:56:31
categories: 
- 支付
tags:
- 支付
- java
---


#### 支付系统

##### 支付交易订单生命周期

- 初始态订单存入缓存中（如redis），定期将超时的订单转化为终止态，并将其移出缓存，存入数据库中。

- 订单初始态不可持久化，订单达到终止态后订单状态不可再变化。

###### 订单初始态

- 订单预创建
- 订单支付中

###### 订单完成态

- 订单支付完成
- 订单部分退款

###### 订单终止态

- 订单已全额退款
- 订单已关闭
- 订单已撤销


##### 系统分层

- 对外API
- 内部接口
- 渠道

#### 文章

- [大众点评支付渠道网关系统的实践之路](https://zhuanlan.zhihu.com/p/21752960)
